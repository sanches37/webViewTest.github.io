<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="">
    <title>테스트 웹뷰</title>
    <script type="text/javascript">
        window.onload = function(){
            document.getElementById('send').onclick = function(e){

                let input = document.getElementById("name")

                alert(input.value);
                input.value = "";
                // input.setAttribute("name", "");
                return false;
            }

            document.getElementById('search').onclick = function(e){

                // let input = document.getElementById("searchTerm")
                
                // // alert(input.value);
                // input.value = "";
                // input.setAttribute("name", "");
                return false;
            }
        }

        // js 에서 ios 호출할 메소드
        function jsToNativeEventCallTokenKey() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend")
            const person = {
            url: 'https://service-devel.linkey.io/tokenKey',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

                // 네이티브 에서 호출할 메소드
        function nativeToJsEventCallTokenKey(message){
            // console.log('nativeToJsEventCall : $message');
            let nativeInput = document.getElementById("native_input")
            nativeInput.value = message;
        }

        function jsToNativeEventCallHamberger() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend2")
            const person = {
            url: 'https://service-devel.linkey.io/my-shopping',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

        function jsToNativeEventCallShoppingBasket() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend3")
            const person = {
            url: 'https://service-devel.linkey.io/carts',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

        function jsToNativeEventCallPromotion() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend4")
            const person = {
            url: 'https://service-devel.linkey.io/promotion',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

        function jsToNativeEventCallStoreHome() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend5")
            const person = {
            url: 'https://service-devel.linkey.io/shops/54',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

        function jsToNativeEventCallProductDetail() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend6")
            const person = {
            url: 'https://service-devel.linkey.io/shops/36/products/500',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

        function jsToNativeEventCallStoryDetail() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend7")
            const person = {
            url: 'https://service-devel.linkey.io/shops/54/stories/294',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }
        
        function jsToNativeEventCallEventDetail() {
            // console.log('jsToNativeEventCall : $message');
            let messageToSend = document.getElementById("messageToSend8")
            const person = {
            url: 'https://service-devel.linkey.io/shops/54',
            intent: true };
            const sendData = { message: messageToSend.value };
            // const sendData = { message: "messageToSend"};
            // callbackHandler 가 브릿지 이름 
            try{
                window.webkit.messageHandlers.linkeyHandler.postMessage(person);
                messageToSend.value = "";
            } catch (err) {
                alert(err);
            }
        }

    </script>
</head>

<body>
    <div >

        <h2 class="">tokenKey요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend" id="messageToSend" />
        <button onclick="jsToNativeEventCallTokenKey();">네이티브로 전달</button>

        <h2 class="">전달받은 tokenKey</h2>
        <input name="native_input" id="native_input" value="" />
        <p></p>

        <h2 class="">햄버거메뉴 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend2" id="messageToSend2" />
        <button onclick="jsToNativeEventCallHamberger();">네이티브로 전달</button>

        <h2 class="">장바구니이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend3" id="messageToSend3" />
        <button onclick="jsToNativeEventCallShoppingBasket();">네이티브로 전달</button>

        <h2 class="">프로모션이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend4" id="messageToSend4" />
        <button onclick="jsToNativeEventCallPromotion();">네이티브로 전달</button>

        <h2 class="">스토어홈이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend5" id="messageToSend5" />
        <button onclick="jsToNativeEventCallStoreHome();">네이티브로 전달</button>

        <h2 class="">상품상세이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend6" id="messageToSend6" />
        <button onclick="jsToNativeEventCallProductDetail();">네이티브로 전달</button>

        <h2 class="">스토리상세이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend7" id="messageToSend7" />
        <button onclick="jsToNativeEventCallStoryDetail();">네이티브로 전달</button>

        <h2 class="">이벤트상세이동 요청</h2>
        <input type="text" placeholder="전달할 내용을 입력하세요" name="messageToSend8" id="messageToSend8" />
        <button onclick="jsToNativeEventCallEventDetail();">네이티브로 전달</button>
       
    </div>
</body>
</html>